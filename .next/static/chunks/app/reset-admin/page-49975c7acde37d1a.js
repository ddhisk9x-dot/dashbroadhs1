(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[628],{23688:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var l=s(95155),a=s(12115);function n(){let e=(0,a.useMemo)(()=>new URLSearchParams(window.location.search).get("token")||"",[]),[t,s]=(0,a.useState)(""),[n,i]=(0,a.useState)(!1),[r,o]=(0,a.useState)(""),d=async()=>{i(!0),o("");try{let s=await fetch("/api/account/admin/confirm-reset",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e,newPassword:t})}),l=await s.json().catch(()=>({}));if(!s.ok||!(null==l?void 0:l.ok))throw Error((null==l?void 0:l.error)||"Reset failed");o("✅ Đổi mật khẩu th\xe0nh c\xf4ng. Bạn c\xf3 thể đăng nhập lại.")}catch(e){o("❌ ".concat((null==e?void 0:e.message)||"Error"))}finally{i(!1)}};return(0,l.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 p-6",children:(0,l.jsxs)("div",{className:"bg-white w-full max-w-md rounded-2xl border border-slate-200 p-6",children:[(0,l.jsx)("h1",{className:"text-lg font-bold text-slate-800",children:"Reset mật khẩu Admin"}),(0,l.jsxs)("div",{className:"mt-4",children:[(0,l.jsx)("label",{className:"text-sm font-semibold text-slate-600",children:"Mật khẩu mới"}),(0,l.jsx)("input",{value:t,onChange:e=>s(e.target.value),className:"mt-2 w-full px-3 py-2 rounded-xl border border-slate-200",placeholder:"Nhập mật khẩu mới...",type:"password"})]}),(0,l.jsx)("button",{onClick:d,disabled:!e||!t||n,className:"mt-4 w-full px-4 py-2 rounded-xl bg-indigo-600 text-white font-semibold disabled:opacity-50",type:"button",children:n?"Đang xử l\xfd...":"X\xe1c nhận đổi mật khẩu"}),r&&(0,l.jsx)("div",{className:"mt-4 text-sm",children:r}),!e&&(0,l.jsx)("div",{className:"mt-4 text-xs text-rose-600",children:"Link kh\xf4ng hợp lệ hoặc thiếu token."})]})})}},58416:(e,t,s)=>{Promise.resolve().then(s.bind(s,23688))}},e=>{e.O(0,[441,255,358],()=>e(e.s=58416)),_N_E=e.O()}]);